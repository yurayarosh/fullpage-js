"use strict";function checkPropertiesSupport(){Object.assign||console.warn("This browser does not support `Object.assign`. You should use polyfill."),Element.prototype.closest||console.warn("This browser does not support `closest` method. You should use polyfill."),"undefined"!=typeof Promise&&-1!==Promise.toString().indexOf("[native code]")||console.warn("This browser does not support `Promise`. You should use polyfill.")}function createTouchEvents(t){function o(t,n){var s=document.createEvent("CustomEvent");return s.initCustomEvent(n,!0,!0,t.target),t.target.dispatchEvent(s),s=null,!1}var a=!0,c={x:0,y:0},r={x:0,y:0},n={touchstart:function(t){c={x:t.touches[0].pageX,y:t.touches[0].pageY}},touchmove:function(t){a=!1,r={x:t.touches[0].pageX,y:t.touches[0].pageY}},touchend:function(t){if(a)o(t,"fc");else{var n=r.x-c.x,s=Math.abs(n),e=r.y-c.y,i=Math.abs(e);20<Math.max(s,i)&&o(t,i<s?n<0?"swl":"swr":e<0?"swu":"swd")}a=!0},touchcancel:function(t){a=!1}};for(var s in n)t.addEventListener(s,n[s],!1)}Object.defineProperty(exports,"__esModule",{value:!0});var classCallCheck=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")},createClass=function(){function e(t,n){for(var s=0;s<n.length;s++){var e=n[s];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),Animator=function(){function p(t){var n=t.direction,s=t.sections,e=t.from,i=t.to,o=t.transition,a=t.easing,c=t.onExit,r=t.onEnter,u=t.fadeIn,h=t.fadeInDuration,l=t.customTransition;classCallCheck(this,p),this.direction=n,this.sections=s,this.from=e,this.to=i,this.current=s[e],this.next=s[i],this.container=this.sections[0].parentNode,this.translate=0,this.transition=o,this.easing=a,this.onExit=c,this.onEnter=r,this.fadeIn=u,this.fadeInDuration=h,this.customTransition=l}return createClass(p,[{key:"animate",value:function(){this._onExit().then(this._changeSection.bind(this)).then(this._onEnter.bind(this))}},{key:"getSectionTop",value:function(t){return t.getBoundingClientRect().top}},{key:"fadeToggle",value:function(){var t=this;this.current.style.transition="opacity "+this.fadeInDuration+"ms",this.current.style.opacity=0,setTimeout(function(){t.current.style.display="none",t.current.style.transition="",t.current.classList.remove(p.classNames.IS_ACTIVE)},this.fadeInDuration),this.next.classList.add(p.classNames.IS_ACTIVE),this.next.style.display="",this.next.style.transition="opacity "+this.fadeInDuration+"ms",setTimeout(function(){t.next.style.opacity=1},66)}},{key:"scrollToSection",value:function(){var t=this,n=this.getSectionTop(this.container),s=this.getSectionTop(this.next)-n;this.getSectionTop(this.current);this.translate=s,this.container.style.transform="translate(0px, -"+this.translate+"px)",this.container.style.transition="transform "+this.transition+"ms "+this.easing,setTimeout(function(){t.container.style.transition="",t.toggleActiveClasses()},this.transition)}},{key:"toggleActiveClasses",value:function(){this.current.classList.remove(p.classNames.IS_ACTIVE),this.next.classList.add(p.classNames.IS_ACTIVE)}},{key:"_onExit",value:function(){var n=this;return new Promise(function(t){n.onExit?n.onExit(n.current,t):t()})}},{key:"_onEnter",value:function(){this.onEnter&&this.onEnter(this.next)}},{key:"_changeSection",value:function(){this.fadeIn?this.fadeToggle():this.customTransition?this.toggleActiveClasses():this.scrollToSection()}}]),p}();function addFpTouchEvents(){createTouchEvents(document)}Animator.classNames={IS_ACTIVE:"is-active"},checkPropertiesSupport();var Fullpage=function(){function a(t,n){classCallCheck(this,a),this.container=t,this.sections=[].slice.call(this.container.children),this.defaultParams={delay:1400,transition:500,easing:"ease",navigation:!1,renderNavButton:!1,prevButton:!1,nextButton:!1,fadeIn:!1,fadeInDuration:500,touchevents:!1,customTransition:!1,loop:!1},n=Object.assign({},this.defaultParams,n),this.options={delay:n.delay,transition:n.transition,easing:n.easing,navigation:n.navigation,renderNavButton:n.renderNavButton,prevButton:n.prevButton,nextButton:n.nextButton,fadeIn:n.fadeIn,fadeInDuration:n.fadeInDuration,touchevents:n.touchevents,customTransition:n.customTransition,loop:n.loop},this.allowPagination=!0,this.current=0}return createClass(a,[{key:"init",value:function(){this._addElementsAttributes(),this._crateNavigation(),this.paginateBinded=this.paginate.bind(this),this._paginate()}},{key:"paginateToNext",value:function(t){this.direction=t?1:-1,this.next=this.current+this.direction}},{key:"paginateOnNavButtonClick",value:function(t,n){t.preventDefault();var s=+n.getAttribute(a.constants.index);"number"==typeof s&&(this.next=s,this.direction=this.next>this.current?1:-1)}},{key:"paginateOnAnchorClick",value:function(t,n){var s=n.getAttribute(a.constants.anchor),e=document.querySelector(s);this.next=+e.getAttribute(a.constants.index),this.direction=this.next>this.current?1:-1}},{key:"paginateOnPrevNextClick",value:function(t,n,s){t.preventDefault(),this.paginateToNext(s)}},{key:"paginate",value:function(t){var n=this;if(this.allowPagination){if("wheel"===t.type&&this.paginateToNext(0<t.deltaY),"click"===t.type){var s=t.target.closest("."+a.constants.navButton),e=t.target.closest("["+a.constants.anchor+"]"),i=t.target.closest("."+a.constants.prev),o=t.target.closest("."+a.constants.next);if(s&&this.paginateOnNavButtonClick(t,s),e&&this.paginateOnAnchorClick(t,e),(i||o)&&this.paginateOnPrevNextClick(t,i,o),null===s&&null===e&&null===i&&null===o)return}if(this.options.touchevents&&("swu"===t.type&&this.paginateToNext(!0),"swd"===t.type&&this.paginateToNext(!1)),this.options.loop){if(this.next>this.sections.length-1?(this.next=0,this.loopTo="first"):this.next<0?(this.next=this.sections.length-1,this.loopTo="last"):this.loopTo=!1,this.next===this.current)return}else if(this.next>=this.sections.length||this.next<0||this.next===this.current)return;this.next===this.sections.length-1?this.options.nextButton.classList.add(a.constants.IS_DISABLED):this.options.nextButton.classList.remove(a.constants.IS_DISABLED),0===this.next?this.options.prevButton.classList.add(a.constants.IS_DISABLED):this.options.prevButton.classList.remove(a.constants.IS_DISABLED),this.next>=this.sections.length||this.next<0||this.next===this.current||(this.allowPagination=!1,this.navigation.forEach(function(t){t.classList.remove(a.constants.IS_ACTIVE)}),this.navigation[this.next].classList.add(a.constants.IS_ACTIVE),this.animator=new Animator({direction:this.direction,sections:this.sections,from:this.current,to:this.next,transition:this.options.transition,easing:this.options.easing,onExit:this.onExit,onEnter:this.onEnter,fadeIn:this.options.fadeIn,fadeInDuration:this.options.fadeInDuration,customTransition:this.options.customTransition}),this.animator.animate(),this.current=this.next,setTimeout(function(){n.allowPagination=!0},this.options.delay))}}},{key:"_addElementsAttributes",value:function(){this.options.fadeIn&&(this.sections.forEach(function(t){t.classList.add(a.constants.IS_ABSOLUTE),t.style.opacity=0}),this.sections[0].style.opacity=1),this.sections[0].classList.add(a.constants.IS_ACTIVE),this.sections.forEach(function(t,n){t.setAttribute(a.constants.index,n)}),this.options.prevButton&&this.options.prevButton.classList.add(a.constants.prev),this.options.nextButton&&this.options.nextButton.classList.add(a.constants.next),0===this.current&&this.options.prevButton.classList.add(a.constants.IS_DISABLED)}},{key:"_paginate",value:function(){var n=this;(this.options.touchevents?["wheel","click","swu","swd"]:["wheel","click"]).forEach(function(t){document.addEventListener(t,n.paginateBinded)})}},{key:"_crateNavigation",value:function(){if(this.options.navigation){var t=this.options.navigation;t.innerHTML='<ul class="'+a.constants.navList+'"></ul>';for(var n=0;n<this.sections.length;n++){var s=t.querySelector("ul"),e=document.createElement("li");e.className=a.constants.navItem,this.options.renderNavButton?e.innerHTML=0===n?'<button class="'+a.constants.navButton+" "+a.constants.IS_ACTIVE+'" '+a.constants.index+'="'+n+'">'+this.options.renderNavButton(n)+"</button>":'<button class="'+a.constants.navButton+'" '+a.constants.index+'="'+n+'">'+this.options.renderNavButton(n)+"</button>":e.innerHTML=0===n?'<button class="'+a.constants.navButton+" "+a.constants.IS_ACTIVE+'" '+a.constants.index+'="'+n+'">'+(n+1)+"</button>":'<button class="'+a.constants.navButton+'" '+a.constants.index+'="'+n+'">'+(n+1)+"</button>",s.appendChild(e)}this.navigation=[].slice.call(t.querySelectorAll("."+a.constants.navButton))}}}]),a}();Fullpage.constants={IS_ACTIVE:"is-active",IS_ABSOLUTE:"is-absolute",IS_DISABLED:"is-disabled",navList:"fullpage-nav",navItem:"fullpage-nav__item",navButton:"fullpage-nav__button",prev:"fullpage__prev",next:"fullpage__next",anchor:"data-anchor",index:"data-fullpage-index"},exports.Fullpage=Fullpage,exports.addFpTouchEvents=addFpTouchEvents;
